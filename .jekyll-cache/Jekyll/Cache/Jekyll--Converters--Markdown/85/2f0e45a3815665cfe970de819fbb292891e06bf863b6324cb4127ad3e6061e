I"‹<p>è¿™å‘¨æ”¶åˆ°ä¸€ä¸ª sentry æŠ¥è­¦ï¼Œå¦‚ä¸‹ SQL æŸ¥è¯¢è¶…æ—¶äº†ã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select * from order_info where uid = 5837661 order by id asc limit 1
</code></pre></div></div>
<p>æ‰§è¡Œshow create table order_info å‘ç°è¿™ä¸ªè¡¨å…¶å®æ˜¯æœ‰åŠ ç´¢å¼•çš„</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE `order_info` (
 Â `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
 Â `uid` int(11) unsigned,
 Â `order_status` tinyint(3) DEFAULT NULL,
  ... çœç•¥å…¶å®ƒå­—æ®µå’Œç´¢å¼•
 Â PRIMARY KEY (`id`),
 Â KEY `idx_uid_stat` (`uid`,`order_status`),
) ENGINE=InnoDB DEFAULT CHARSET=utf8
</code></pre></div></div>
<p>ç†è®ºä¸Šæ‰§è¡Œä¸Šè¿° SQL ä¼šå‘½ä¸­ idx_uid_stat è¿™ä¸ªç´¢å¼•ï¼Œä½†å®é™…æ‰§è¡Œ explain æŸ¥çœ‹</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>explain select * from order_info where uid = 5837661 order by id asc limit 1
</code></pre></div></div>
<p>å¯ä»¥çœ‹åˆ°å®ƒçš„ possible_keysï¼ˆæ­¤ SQL å¯èƒ½æ¶‰åŠåˆ°çš„ç´¢å¼•ï¼‰ æ˜¯ idx_uid_statï¼Œä½†å®é™…ä¸Šï¼ˆkeyï¼‰ç”¨çš„å´æ˜¯å…¨è¡¨æ‰«æ</p>
:ET